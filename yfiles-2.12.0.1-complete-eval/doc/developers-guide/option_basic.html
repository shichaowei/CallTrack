<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>Basic Functionality</title>
      <link rel="stylesheet" href="ystyle.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.65.1">
      <link rel="home" href="index.html" title="yFiles for Java Developer's Guide">
      <link rel="up" href="options.html" title="Chapter&nbsp;10.&nbsp;Settings Dialogs and Components">
      <link rel="previous" href="options.html" title="Chapter&nbsp;10.&nbsp;Settings Dialogs and Components">
      <link rel="next" href="option_advanced.html" title="Advanced Topics">
      <link rel="stylesheet" href="jsdt/toc.css" type="text/css"><script type="text/javascript" src="jsdt/jquery.min.js"></script><script type="text/javascript" src="jsdt/toc.js"></script><link type="text/css" rel="stylesheet" href="jssh/SyntaxHighlighter.css"><script type="text/javascript" src="jssh/shCore.js"></script><script type="text/javascript" src="jssh/shBrushJava.js"></script><script type="text/javascript" src="jssh/shBrushXml.js"></script><script type="text/javascript">
  function sh() {

    dp.SyntaxHighlighter.HighlightAll('programlisting', false, false, false, null, false);
  }
  </script></head>
   <body onload="sh()" bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">Basic Functionality</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="options.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Chapter&nbsp;10.&nbsp;Settings Dialogs and Components</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="option_advanced.html">Next</a></td>
            </tr>
         </table>
         <div class="navline"></div>
         <div style="display:none"><img src="figures/navbg.jpg" alt=""><img src="figures/navline.jpg" alt=""></div>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="option_basic"></a>Basic Functionality
                  </h2>
               </div>
            </div>
            <div></div>
         </div>
         <p>
            
         </p>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="option_model_view"></a>Creating Model and View
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               Class <a href="../api/y/option/OptionHandler.html" title="Link to API documentation" target="_top">OptionHandler<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> is the settings 
               framework's central class. 
               It presents a kind of container to add so-called "option items" to, and 
               notifies registered listeners of any change to the value or state of such an 
               option item. 
               
            </p>
            <p>
               An option item is a descendant of abstract class 
               <a href="../api/y/option/OptionItem.html" title="Link to API documentation" target="_top">OptionItem<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> that represents a specific 
               type of value, e.g., a boolean value, an integral value, but also a color 
               object or an enumeration type. 
               
               <a href="option_basic.html#ex_simple" title="Example&nbsp;10.1.&nbsp;Option handler setup">Example&nbsp;10.1, &#8220;Option handler setup&#8221;</a> shows the creation of a simple option handler where 
               several option items are added to an OptionHandler instance. 
               
            </p>
            <div class="example"><a name="ex_simple"></a><p class="title"><b>Example&nbsp;10.1.&nbsp;Option handler setup</b></p><pre class="programlisting java">
public OptionHandler createOptionHandlerForNode(NodeRealizer nr)
{
  // Create a new OptionHandler object. 
  OptionHandler oh = new OptionHandler("Node Properties");
  // The first section holds the properties. 
  oh.useSection("Properties");
  // Add a number of different option items to this option handler. 
  oh.addString("Label", nr.getLabelText());
  oh.addColor("Fill Color", nr.getFillColor());
  oh.addDouble("Width", nr.getWidth(), 0.0, 100.0);
  
  // Return the created option handler. 
  return oh;
}
</pre></div>
            <p>
               Option items are the fundamental blocks that actually hold data, and in 
               conjunction with classes OptionHandler and 
               <a href="../api/y/option/OptionSection.html" title="Link to API documentation" target="_top">OptionSection<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> they make up the model. 
               
               Presentation of the model's data and also the handling of any user interaction 
               with it is the responsibility of so-called "editors," i.e., implementations of 
               interface <a href="../api/y/option/Editor.html" title="Link to API documentation" target="_top">Editor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>. 
               
               Following the MVC paradigm, multiple editors (in other words, multiple views) 
               can be associated with an option item. 
               
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  An option handler itself is also represented by an editor. 
                  
               </p>
            </div>
            <p>
               The settings framework knows several ways to create an actual user interface 
               for the editor of an option handler. 
               
               With the single line presented in <a href="option_basic.html#ex_show" title="Example&nbsp;10.2.&nbsp;Showing a default modal dialog for an option handler">Example&nbsp;10.2, &#8220;Showing a default modal dialog for an option handler&#8221;</a> a default modal 
               dialog for an option handler can be readily created and displayed. 
               The resulting dialog features OK, Reset, and Cancel buttons. 
               
            </p>
            <div class="example"><a name="ex_show"></a><p class="title"><b>Example&nbsp;10.2.&nbsp;Showing a default modal dialog for an option handler</b></p><pre class="programlisting java">
// Create a default modal dialog for the option handler. 
// If "OK" was pressed, 'result' is true. 
boolean result = oh.showEditor();
</pre></div>
            <p>
               By means of an <a href="../api/y/option/EditorFactory.html" title="Link to API documentation" target="_top">EditorFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> an editor 
               of type <a href="../api/y/option/Editor.html" title="Link to API documentation" target="_top">Editor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> can be retrieved that 
               handles an option handler's entire presentation and also the user interaction. 
               
               Interface Editor defines the general contract for an option handler's editor and
               provides the following method to retrieve a proper <tt class="classname">javax.swing.JComponent</tt>:
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/Editor.html#getComponent()" title="Link to API documentation" target="_top">JComponent getComponent()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Getting a proper Swing component for displaying the editor.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <p>
               Note that the JComponent features all embedded item editors, however has no 
               buttons yet. 
               
            </p>
            <p>
               <a href="option_basic.html#editorfactory_predef" title="Table&nbsp;10.1.&nbsp;Predefined editor factory implementations">Table&nbsp;10.1, &#8220;Predefined editor factory implementations&#8221;</a> lists the predefined editor factory 
               implementations from package y.option. 
               These support different presentation styles. 
               
            </p>
            <div class="table"><a name="editorfactory_predef"></a><p class="title"><b>Table&nbsp;10.1.&nbsp;Predefined editor factory implementations</b></p>
               <table summary="Predefined editor factory implementations" width="100%" border="1">
                  <colgroup>
                     <col width="33%" align="left">
                     <col width="67%" align="left">
                  </colgroup>
                  <thead valign="top">
                     <tr>
                        <th align="left">Classname</th>
                        <th align="left">Description</th>
                     </tr>
                  </thead>
                  <tbody valign="top">
                     <tr>
                        <td align="left">DefaultEditorFactory</td>
                        <td align="left">
                             Creates a dialog-style presentation for an option handler. 
                             
                        </td>
                     </tr>
                     <tr>
                        <td align="left">TableEditorFactory</td>
                        <td align="left">
                             Creates a table-style presentation for an option handler. 
                             
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  Both DefaultEditorFactory and TableEditorFactory actually return an editor that 
                  has type <a href="../api/y/option/DefaultCompoundEditor.html" title="Link to API documentation" target="_top">DefaultCompoundEditor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> instead 
                  of only <a href="../api/y/option/Editor.html" title="Link to API documentation" target="_top">Editor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>. 
                  
               </p>
            </div>
            <p>
               <a href="option_basic.html#fig_simple_dialog" title="Figure&nbsp;10.3.&nbsp;Dialog presentation">Figure&nbsp;10.3, &#8220;Dialog presentation&#8221;</a> shows the results of using the services of 
               class <a href="../api/y/option/DefaultEditorFactory.html" title="Link to API documentation" target="_top">DefaultEditorFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> for option 
               handler presentation. 
               
            </p>
            <div class="figure"><a name="fig_simple_dialog"></a><p class="title"><b>Figure&nbsp;10.3.&nbsp;Dialog presentation</b></p>
               <div class="informaltable">
                  <center>
                     <table border="0">
                        <colgroup>
                           <col width="100%">
                        </colgroup>
                        <tbody>
                           <tr>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/option_simple_dialog.gif" align="middle" alt="Dialog presentation."></div>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </center>
               </div>
            </div>
            <p>
               The code snippet in <a href="option_basic.html#ex_dialog" title="Example&nbsp;10.3.&nbsp;Creating a dialog-based presentation of an option handler">Example&nbsp;10.3, &#8220;Creating a dialog-based presentation of an option handler&#8221;</a> demonstrates the use of 
               DefaultEditorFactory to create a dialog-based presentation for an option 
               handler. 
               
            </p>
            <div class="example"><a name="ex_dialog"></a><p class="title"><b>Example&nbsp;10.3.&nbsp;Creating a dialog-based presentation of an option handler</b></p><pre class="programlisting java">
// 'nr' is of type NodeRealizer. 

// Create an option handler for a node's properties. 
OptionHandler oh = createOptionHandlerForNode(nr);

// Instantiate a new DefaultEditorFactory object and let it create a 
// dialog-based (as opposed to table-based) presentation, the so-called 
// "editor," for the given OptionHandler instance. 
Editor ed = new DefaultEditorFactory().createEditor(oh);

// Get the editor's JComponent that holds the actual presentation of the 
// properties. 
JComponent ohEditorComponent = ed.getComponent();
</pre></div>
            <p>
               <a href="option_basic.html#fig_simple_table" title="Figure&nbsp;10.4.&nbsp;Table presentation">Figure&nbsp;10.4, &#8220;Table presentation&#8221;</a> shows the results of using the services of 
               class <a href="../api/y/option/TableEditorFactory.html" title="Link to API documentation" target="_top">TableEditorFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> for option 
               handler presentation. 
               
            </p>
            <div class="figure"><a name="fig_simple_table"></a><p class="title"><b>Figure&nbsp;10.4.&nbsp;Table presentation</b></p>
               <div class="informaltable">
                  <center>
                     <table border="0">
                        <colgroup>
                           <col width="100%">
                        </colgroup>
                        <tbody>
                           <tr>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/option_simple_table.gif" align="middle" alt="Table presentation."></div>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </center>
               </div>
            </div>
            <p>
               The code snippet in <a href="option_basic.html#ex_table" title="Example&nbsp;10.4.&nbsp;Creating a table-based presentation of an option handler">Example&nbsp;10.4, &#8220;Creating a table-based presentation of an option handler&#8221;</a> demonstrates the use of 
               TableEditorFactory to create a table-based presentation for an option handler. 
               
            </p>
            <div class="example"><a name="ex_table"></a><p class="title"><b>Example&nbsp;10.4.&nbsp;Creating a table-based presentation of an option handler</b></p><pre class="programlisting java">
// 'nr' is of type NodeRealizer. 

// Create an option handler for a node's properties. 
OptionHandler oh = createOptionHandlerForNode(nr);

// Instantiate a new TableEditorFactory object and let it create a table-based 
// (as opposed to dialog-based) presentation, the so-called "editor," for the 
// given OptionHandler instance. 
Editor ed = new TableEditorFactory().createEditor(oh);

// Get the editor's JComponent that holds the actual presentation of the 
// properties. 
JComponent ohEditorComponent = ed.getComponent();
</pre></div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="option_synchronization"></a>Synchronizing Editors and Option Items
                     </h3>
                  </div>
               </div>
               <div></div>
            </div><a class="indexterm" name="d0e38855"></a><p>
               To keep the model (option item) and its views (editors) in sync, it is 
               necessary that any modification of values or state on either of the two sides 
               can be propagated to the other side. 
               
               Interface <a href="../api/y/option/Editor.html" title="Link to API documentation" target="_top">Editor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> supports different 
               policies for explicit synchronization: 
               
            </p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     propagation of any modifications from view(s) to model ("push" semantics) 
                     
                  </li>
                  <li>
                     propagation of any modifications from model to view(s) ("pull" semantics) 
                     
                  </li>
               </ul>
            </div>
            <p>
               
               Related to synchronization issues is resetting values to their original value 
               to undo any modifications on the view's side. 
               
               
               
               <a href="option_basic.html#option_sync" title="Figure&nbsp;10.5.&nbsp;Synchronization policies between editors and option items">Figure&nbsp;10.5, &#8220;Synchronization policies between editors and option items&#8221;</a> depicts the synchronization policies and 
               directions supported by the model-view architecture of editors and option 
               items. 
               
            </p>
            <div class="figure"><a name="option_sync"></a><p class="title"><b>Figure&nbsp;10.5.&nbsp;Synchronization policies between editors and option items</b></p>
               <div class="informaltable">
                  <center>
                     <table border="0">
                        <colgroup>
                           <col width="100%">
                        </colgroup>
                        <tbody>
                           <tr>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/optionhandler_sync_policies.jpg" align="middle" alt="Synchronization policies."></div>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </center>
               </div>
            </div>
            <p>
               In addition to explicit synchronization, a table-style editor created by 
               TableEditorFactory by default also supports bi-directional implicit 
               synchronization. 
               Whenever a value or a state in either model or view changes, the change is 
               immediately propagated to the other side. 
               
            </p>
            <p>
               Implicit synchronization can be controlled using the following methods.
               They are supported by class TableEditorFactory as a convenience, however, 
               ItemEditor also provides these methods. 
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/TableEditorFactory.html#isAutoAdopt()" title="Link to API documentation" target="_top">boolean isAutoAdopt()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/TableEditorFactory.html#isAutoCommit()" title="Link to API documentation" target="_top">boolean isAutoCommit()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>

<a href="../api/y/option/TableEditorFactory.html#setAutoAdopt(boolean)" title="Link to API documentation" target="_top">void setAutoAdopt(boolean autoAdopt)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/TableEditorFactory.html#setAutoCommit(boolean)" title="Link to API documentation" target="_top">void setAutoCommit(boolean autoCommit)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Methods to control implicit synchronization of a table-style editor.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="option_constraints"></a>Defining Dependencies Between Option Items
                     </h3>
                  </div>
               </div>
               <div></div>
            </div><a class="indexterm" name="d0e38926"></a><p>
               Class <a href="../api/y/option/ConstraintManager.html" title="Link to API documentation" target="_top">ConstraintManager<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> offers 
               convenient means to define so-called contraints for option items. 
               Constraints denote dependencies between option items, more specifically between 
               the value and the state of option items. 
               They are used to impose modifications to a "target" option item's state in 
               response to a change in value of a "source" option item. 
               
            </p>
            <p>
               ConstraintManager has a number of methods that can be directly used to define a 
               dependency to automatically enable/disable a single option item or a group of 
               option items:
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/ConstraintManager.html#setEnabledOnValueEquals(y.option.OptionItem, java.lang.Object, y.option.OptionGroup)" title="Link to API documentation" target="_top">void setEnabledOnValueEquals(OptionItem source, Object value, OptionGroup target)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/ConstraintManager.html#setEnabledOnValueEquals(y.option.OptionItem, java.lang.Object, y.option.OptionItem)" title="Link to API documentation" target="_top">void setEnabledOnValueEquals(OptionItem source, Object value, OptionItem target)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Source/target definition by reference.</td>
                        </tr>
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/ConstraintManager.html#setEnabledOnValueEquals(java.lang.String, java.lang.Object, java.lang.String)" title="Link to API documentation" target="_top">void setEnabledOnValueEquals(String source, Object value, String target)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Name-based source/target definition.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <p>
               <a href="option_basic.html#fig_constraints" title="Figure&nbsp;10.6.&nbsp;Option handler with constrained option item">Figure&nbsp;10.6, &#8220;Option handler with constrained option item&#8221;</a> depicts the effects of constrained option 
               items where a boolean option item is automatically disabled due to the 
               enumeration option item's value. 
               
            </p>
            <div class="figure"><a name="fig_constraints"></a><p class="title"><b>Figure&nbsp;10.6.&nbsp;Option handler with constrained option item</b></p>
               <div class="informaltable">
                  <center>
                     <table border="0">
                        <colgroup>
                           <col width="100%">
                        </colgroup>
                        <tbody>
                           <tr>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/option_constraints.gif" align="middle" alt="Dialog presentation."></div>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </center>
               </div>
            </div>
            <p>
               The constraint to automatically enable/disable the boolean option item from 
               <a href="option_basic.html#fig_constraints" title="Figure&nbsp;10.6.&nbsp;Option handler with constrained option item">Figure&nbsp;10.6, &#8220;Option handler with constrained option item&#8221;</a> is established as seen in 
               <a href="option_basic.html#ex_constraints" title="Example&nbsp;10.5.&nbsp;Defining a simple constraint for option items">Example&nbsp;10.5, &#8220;Defining a simple constraint for option items&#8221;</a>. 
               
            </p>
            <div class="example"><a name="ex_constraints"></a><p class="title"><b>Example&nbsp;10.5.&nbsp;Defining a simple constraint for option items</b></p><pre class="programlisting java">
public OptionHandler createConstrainedOptionHandlerForNode(NodeRealizer nr)
{
  // Create a new OptionHandler object. 
  OptionHandler oh = new OptionHandler("Node Properties");
  // Add a number of different option items to this handler. 
  oh.addString("Label", nr.getLabelText());
  // Define a set of possible values for the enum option item. 
  String shapeType[] = {"Rectangle", "Rounded Rectangle", "Ellipse"};
  int tmp = -1;
  if (nr instanceof ShapeNodeRealizer) 
    tmp = (int)((ShapeNodeRealizer)nr).getShapeType();
  oh.addEnum("Shape Type", shapeType, tmp);
  
  // To be used as the target for a constraint. 
  oh.addBool("Make Real Circle", false);
  
  // Create a new ConstraintManager object that defines constraints for some 
  // option items. 
  ConstraintManager cm = new ConstraintManager(oh);
  cm.setEnabledOnValueEquals("Shape Type", "Ellipse", "Make Real Circle");
  
  // Return the created option handler. 
  return oh;
}
</pre></div>
            <p>
               Dependencies between option items can also be defined using multiple "source" 
               option items. 
               The following methods take as parameter an object of type <a href="../api/y/option/ConstraintManager.Condition.html" title="Link to API documentation" target="_top">ConstraintManager.Condition<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
               that can be used to formulate a condition that combines the values of more than
               one option item:
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/ConstraintManager.html#setEnabledOnCondition(y.option.ConstraintManager.Condition, y.option.OptionItem)" title="Link to API documentation" target="_top">void setEnabledOnCondition(Condition c, OptionItem target)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/ConstraintManager.html#setEnabledOnCondition(y.option.ConstraintManager.Condition, y.option.OptionGroup)" title="Link to API documentation" target="_top">void setEnabledOnCondition(Condition c, OptionGroup target)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Methods to define condition-based constraints.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <p>
               The following methods from class ConstraintManager can be used to create Condition
               objects. 
               
               Using methods from static inner class Condition which offer logical operations 
               like AND, INVERSE, OR, and XOR, any number of conditions can furthermore be 
               combined to create new Condition objects of increased complexity. 
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/ConstraintManager.html#createConditionValueEquals(y.option.OptionItem, java.lang.Object)" title="Link to API documentation" target="_top">Condition createConditionValueEquals(OptionItem src, Object value)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/ConstraintManager.html#createConditionValueIs(y.option.OptionItem, java.lang.Object[])" title="Link to API documentation" target="_top">Condition createConditionValueIs(OptionItem src, Object[] values)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/ConstraintManager.html#createConditionValueIs(y.option.OptionItem, java.util.Collection)" title="Link to API documentation" target="_top">Condition createConditionValueIs(OptionItem src, Collection values)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">
                              Source item definition by reference.
                              (Excerpt.)
                              
                           </td>
                        </tr>
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/ConstraintManager.html#createConditionValueEquals(java.lang.String, java.lang.Object)" title="Link to API documentation" target="_top">Condition createConditionValueEquals(String source, Object value)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/ConstraintManager.html#createConditionValueIs(java.lang.String, java.lang.Object[])" title="Link to API documentation" target="_top">Condition createConditionValueIs(String source, Object[] values)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/ConstraintManager.html#createConditionValueIs(java.lang.String, java.util.Collection)" title="Link to API documentation" target="_top">Condition createConditionValueIs(String source, Collection values)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">
                              Name-based source item definition
                              (Excerpt.)
                              
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <p>
               Note that class ConstraintManager provides its services using the general 
               events and listener mechanism, i.e., as a listener for property change events. 
               Using the same general mechanism, it is easily possible to have arbitrarily 
               complex conditional modifications applied to any option item's value or state. 
               
               The following methods from class OptionHandler can be used to (de)register custom
               property change listeners for single properties as well as all properties managed
               by an option handler.
               
            </p>
            <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Important</h3>
               <p>
                  There is no check or validation scheme provided to ensure that the entirety of 
                  dependencies defined for an option handler's items is free from any circular 
                  dependencies. 
                  
                  
               </p>
            </div>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/OptionHandler.html#addPropertyChangeListener(java.beans.PropertyChangeListener)" title="Link to API documentation" target="_top">void addPropertyChangeListener(PropertyChangeListener pcl)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/OptionHandler.html#addPropertyChangeListener(java.lang.String, java.beans.PropertyChangeListener)" title="Link to API documentation" target="_top">void addPropertyChangeListener(String property, PropertyChangeListener pcl)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Listener registration methods.</td>
                        </tr>
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/OptionHandler.html#removePropertyChangeListener(java.beans.PropertyChangeListener)" title="Link to API documentation" target="_top">void removePropertyChangeListener(PropertyChangeListener pcl)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/OptionHandler.html#createConditionValueIs(java.lang.String, java.beans.PropertyChangeListener)" title="Link to API documentation" target="_top">void removePropertyChangeListener(String property, PropertyChangeListener pcl)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Listener deregistration methods.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="undefined"></a>Undefined Values in Option Items
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               Normally, an option item holds a value of specific type. 
               There may arise situations, however, where an option item cannot display 
               anything useful, and instead should show a blank entry to indicate a so-called 
               "undefined value" state. 
               
               Such situations may be: 
               
            </p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     The value to be presented by the option item is not compatible with its type. 
                     This may be due to the type being bounded, or consisting of only a set of 
                     distinct values (as in an enumeration option item). 
                     
                  </li>
                  <li>
                     An application has multiple values for one option item to be displayed. 
                     
                  </li>
               </ul>
            </div>
            <p>
               
               The latter occurs whenever the content of an option handler is derived from 
               multiple entities, which have different values for at least one property. 
               A simple example would be an option handler that is used to show the size 
               property of two nodes, and the size of the first differs from that of the 
               second node. 
               
               The option handler's option item should consequently indicate the "undefined 
               value" state for the size property. 
               
            </p>
            <p>
               The following methods can be used to explicitly set this special state for an option
               item:
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/option/OptionItem.html#isValueUndefined()" title="Link to API documentation" target="_top">boolean isValueUndefined()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/option/OptionItem.html#setValueUndefined(boolean)" title="Link to API documentation" target="_top">void setValueUndefined(boolean valueUndefined)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Getter and setter method for undefined values in option items.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  When using method 
                  <a href="../api/y/option/OptionItem.html#setValueUndefined(boolean)" title="Link to API documentation" target="_top">setValueUndefined<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> 
                  on an option item, it should be invoked last. 
                  
               </p>
            </div>
            <p>
               A special case regarding undefined values is presented in 
               <a href="option_basic.html#ex_simple_enhanced" title="Example&nbsp;10.6.&nbsp;Simple OptionHandler dialog">Example&nbsp;10.6, &#8220;Simple OptionHandler dialog&#8221;</a>. 
               Class <a href="../api/y/option/EnumOptionItem.html" title="Link to API documentation" target="_top">EnumOptionItem<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> automatically 
               assumes "undefined value" state whenever a value has been set that is not 
               contained in the set of allowed ones. 
               To enforce this behavior, method 
               <a href="../api/y/option/EnumOptionItem.html#setValueUndefined(boolean)" title="Link to API documentation" target="_top">setValueUndefined<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> 
               is overridden and simply ignores arguments that contradict the current state. 
               
            </p>
            <div class="example"><a name="ex_simple_enhanced"></a><p class="title"><b>Example&nbsp;10.6.&nbsp;Simple OptionHandler dialog</b></p><pre class="programlisting java">
public OptionHandler createEnumerationOptionHandlerForNode(NodeRealizer nr)
{
  // Create a new OptionHandler object. 
  OptionHandler oh = new OptionHandler("Node Properties");
  // Add a number of different option items to this handler. 
  oh.addString("Label", nr.getLabelText());
  // Define a set of possible values for the enum option item. 
  String shapeType[] = {"Rectangle", "Rounded Rectangle", "Ellipse"};
  int tmp = -1;
  if (nr instanceof ShapeNodeRealizer) 
    tmp = (int)((ShapeNodeRealizer)nr).getShapeType();
  oh.addEnum("Shape Type", shapeType, tmp);
  
  // Return the created option handler. 
  return oh;
}
</pre></div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="i18n_l10n"></a>Internationalization and Localization
                     </h3>
                  </div>
               </div>
               <div></div>
            </div><a class="indexterm" name="d0e39158"></a><a class="indexterm" name="d0e39165"></a><a class="indexterm" name="d0e39172"></a><p>
               
               The settings framework supports the task of localizing option handlers by means 
               of so-called GUI factories, i.e., implementations of interface 
               <a href="../api/y/option/GuiFactory.html" title="Link to API documentation" target="_top">GuiFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>. 
               
               A GUI factory can be registered with an OptionHandler object, which will then 
               use it to replace the names of option items, enumeration values, and also the 
               option handler's name itself by localized versions thereof. 
               
               <a href="option_basic.html#fig_i18n_l10n" title="Figure&nbsp;10.7.&nbsp;German localized option handler">Figure&nbsp;10.7, &#8220;German localized option handler&#8221;</a> depicts the German localized version of an 
               option handler in dialog presentation. 
               
            </p>
            <div class="figure"><a name="fig_i18n_l10n"></a><p class="title"><b>Figure&nbsp;10.7.&nbsp;German localized option handler</b></p>
               <div class="informaltable">
                  <center>
                     <table border="0">
                        <colgroup>
                           <col width="100%">
                        </colgroup>
                        <tbody>
                           <tr>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/option_localization.gif" align="middle" alt="German localized option handler."></div>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </center>
               </div>
            </div>
            <p>
               <a href="option_basic.html#ex_i18n_l10n_option" title="Example&nbsp;10.7.&nbsp;Option handler internationalization">Example&nbsp;10.7, &#8220;Option handler internationalization&#8221;</a> shows the option handler's setup where 
               option item names, etc. are given placeholder names. 
               
               
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  To emphasize their purpose, the placeholder names consist of all-caps letters 
                  and underscores. 
                  
                  
                  
               </p>
            </div>
            <div class="example"><a name="ex_i18n_l10n_option"></a><p class="title"><b>Example&nbsp;10.7.&nbsp;Option handler internationalization</b></p><pre class="programlisting java">
public OptionHandler createI18nOptionHandlerForNode(NodeRealizer nr)
{
  // Create a new OptionHandler object. 
  OptionHandler oh = new OptionHandler("NODE_PROPERTIES");
  // Add a number of different option items to this handler. 
  oh.addString("LABEL", nr.getLabelText());
  // Define a set of possible values for the enum option item. 
  String shapeType[] = {"RECTANGLE", "ROUNDED_RECTANGLE", "ELLIPSE"};
  int tmp = -1;
  if (nr instanceof ShapeNodeRealizer) 
    tmp = (int)((ShapeNodeRealizer)nr).getShapeType();
  oh.addEnum("SHAPE_TYPE", shapeType, tmp);
  
  // Return the created option handler. 
  return oh;
}
</pre></div>
            <p>
               Commonly, localized text is stored in resource bundle properties files that 
               contain key/value pairs where the value holds the actual localization. 
               Class <a href="../api/y/option/ResourceBundleGuiFactory.html" title="Link to API documentation" target="_top">ResourceBundleGuiFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> loads 
               such a resource bundle properties file and makes the contents accessible. 
               
               <a href="option_basic.html#ex_i18n_l10n" title="Example&nbsp;10.8.&nbsp;Localization using class ResourceBundleGuiFactory">Example&nbsp;10.8, &#8220;Localization using class ResourceBundleGuiFactory&#8221;</a> demonstrates how a ResourceBundleGuiFactory 
               instance is used in conjunction with an option handler. 
               
            </p>
            <div class="example"><a name="ex_i18n_l10n"></a><p class="title"><b>Example&nbsp;10.8.&nbsp;Localization using class ResourceBundleGuiFactory</b></p><pre class="programlisting java">
public void localizeOptionHandler(OptionHandler oh, 
                                  String language, String country)
{
  // Set the locale as given by 'language' and 'country'. 
  Locale.setDefault(new Locale(language, country));
  
  try {
    // Create a new ResourceBundleGuiFactory object which retrieves localized 
    // Strings from a resource bundle. 
    ResourceBundleGuiFactory rbgf = new ResourceBundleGuiFactory();
    
    // Use the GUI factory to load the information specific to this class (more 
    // specifically, its option handlers). 
    rbgf.addBundle("MyOptionHandlerLocalization");
    
    // Register the GUI factory with the option handler, so that it can 
    // retrieve the localized information. 
    oh.setGuiFactory(rbgf);
  } 
  catch (MissingResourceException mrEx) {
    System.err.println(mrEx);
  }
}
</pre></div>
            <p>
               <a href="option_basic.html#ex_i18n_l10n_bundle" title="Example&nbsp;10.9.&nbsp;Localization bundle contents">Example&nbsp;10.9, &#8220;Localization bundle contents&#8221;</a> shows the contents of both a German and 
               an English resource bundle properties file. 
               
               
               The placeholders that have been set in <a href="option_basic.html#ex_i18n_l10n_option" title="Example&nbsp;10.7.&nbsp;Option handler internationalization">Example&nbsp;10.7, &#8220;Option handler internationalization&#8221;</a> 
               are used to define "paths" that uniquely identify any name used within the 
               option handler. 
               
               A name's "path" is the result of a dot-separated concatenation of all 
               placeholders of either option sections and/or option items that are "above" it 
               in the option handler's element hierarchy, followed by the placeholder of the 
               name itself. 
               The root element of this element hierarchy is the option handler's name. 
               
               
               
            </p>
            <p>
               Note that names of enumeration values are identified using an additional 
               qualifier, <tt class="code">.VALUE</tt>, which is inserted after the placeholder of the 
               enumeration option item's name. 
               
            </p>
            <div class="example"><a name="ex_i18n_l10n_bundle"></a><p class="title"><b>Example&nbsp;10.9.&nbsp;Localization bundle contents</b></p><pre class="programlisting java">
German resource bundle file 'MyOptionHandlerLocalization_de.properties'
=======================================================================
# Sample ResourceBundle properties file

NODE_PROPERTIES = Knotenattribute
NODE_PROPERTIES.LABEL = Beschriftung
NODE_PROPERTIES.SHAPE_TYPE = Form
NODE_PROPERTIES.SHAPE_TYPE.VALUE.RECTANGLE         = Rechteck
NODE_PROPERTIES.SHAPE_TYPE.VALUE.ROUNDED_RECTANGLE = Abgerundetes Rechteck
NODE_PROPERTIES.SHAPE_TYPE.VALUE.ELLIPSE           = Ellipse
NODE_PROPERTIES.SHAPE_TYPE.TOOLTIP = Auswahl m\u00F6glicher Knotenformen

English resource bundle file 'MyOptionHandlerLocalization.properties'
=====================================================================
# Sample ResourceBundle properties file

NODE_PROPERTIES = Node Properties
NODE_PROPERTIES.LABEL = Label
NODE_PROPERTIES.SHAPE_TYPE = Shape Type
NODE_PROPERTIES.SHAPE_TYPE.VALUE.RECTANGLE         = Rectangle
NODE_PROPERTIES.SHAPE_TYPE.VALUE.ROUNDED_RECTANGLE = Rounded Rectangle
NODE_PROPERTIES.SHAPE_TYPE.VALUE.ELLIPSE           = Ellipse
NODE_PROPERTIES.SHAPE_TYPE.TOOLTIP = Selection of possible shapes
</pre></div>
            <p>
               Using another qualifier, <tt class="code">.TOOLTIP</tt>, which can be appended to any 
               option item's path, presents a convenient possibility to add a localized 
               tooltip text for an option item without actually defining such a text in code. 
               
               
               
               
               
               
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="serialization"></a>Serialization of Settings
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               The settings framework supports the convenient (de)serialization of an option 
               handler's entire values. 
               
               Class <a href="../api/y/option/PropertiesIOHandler.html" title="Link to API documentation" target="_top">PropertiesIOHandler<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> is an 
               implementation of interface 
               <a href="../api/y/option/OptionsIOHandler.html" title="Link to API documentation" target="_top">OptionsIOHandler<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> that can be used to 
               read settings from/write settings to a <tt class="classname">java.util.Properties</tt> 
               object. 
               
            </p>
            <p>
               <a href="option_basic.html#ex_read_settings" title="Example&nbsp;10.10.&nbsp;Reading an option handler's settings from a file">Example&nbsp;10.10, &#8220;Reading an option handler's settings from a file&#8221;</a> demonstrates deserialization of such a 
               Properties object from a file. 
               
            </p>
            <div class="example"><a name="ex_read_settings"></a><p class="title"><b>Example&nbsp;10.10.&nbsp;Reading an option handler's settings from a file</b></p><pre class="programlisting java">
public Properties deserializeOH(OptionHandler oh)
{
  // Create a new Properties object. 
  Properties p = new Properties();
  
  // Use the Properties object to load the option handler's settings from a file. 
  try {
    // Initialize the given Properties object from a file with the given name. 
    FileInputStream fis = new FileInputStream("MySettings.properties");
    p.load(fis);
    fis.close();
  }
  catch (IOException ioEx) {
    ioEx.printStackTrace();
  }
  
  // Register a PropertiesIOHandler with the option handler. 
  // Upon creation, this handler is initialized with the Properties object that 
  // holds the values for the option items. 
  oh.setOptionsIOHandler(new PropertiesIOHandler(p));
  // Read the values for the option items from the Properties object (using the 
  // services of the PropertiesIOHandler). 
  oh.read();
  
  return p;
}
</pre></div>
            <p>
               <a href="option_basic.html#ex_write_settings" title="Example&nbsp;10.11.&nbsp;Writing an option handler's settings to file">Example&nbsp;10.11, &#8220;Writing an option handler's settings to file&#8221;</a> demonstrates serialization of a given 
               Properties object to a file. 
               
            </p>
            <div class="example"><a name="ex_write_settings"></a><p class="title"><b>Example&nbsp;10.11.&nbsp;Writing an option handler's settings to file</b></p><pre class="programlisting java">
public void serializeOH(OptionHandler oh, Properties p)
{
  // Install an IOHandler that 
  oh.setOptionsIOHandler(new PropertiesIOHandler(p));
  
  // Store the option handler's settings to a file. 
  try {
    // Write the given Properties object to file using the given name and 
    // header information. 
    FileOutputStream fos = new FileOutputStream("MySettings.properties");
    p.store(fos, "My saved settings.");
    fos.flush();
    fos.close();
  }
  catch (IOException ioEx) {
    ioEx.printStackTrace();
  }
}
</pre></div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="option_basic_tutorial"></a>Tutorial Demo Code
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               The tutorial demo application 
               <a href="../../src/demo/option/NodePropertyEditorDemo.java" title="Link to demo code" target="_top">NodePropertyEditorDemo.java</a> shows both 
               creation and usage of an option handler, synchronization between model and 
               view, and also use of the "undefined value" state for option items. 
               
               <a href="../../src/demo/option/OptionHandlerDemo.java" title="Link to demo code" target="_top">OptionHandlerDemo.java</a> is an extensive demo 
               that focusses on multiple editors and their synchronization with the model. 
               
            </p>
            <p>
               <a href="../../src/demo/layout/module/DiagonalLayoutModule.java" title="Link to demo code" target="_top">DiagonalLayoutModule.java</a> shows 
               internationalization and localization (or i18n/l10n for short) aspects, as well 
               as the (de)serialization of option handler settings. 
               For i18n/l10n see also the resource bundle properties files 
               <a href="../../src/demo/layout/module/DiagonalLayoutModule.properties" title="Link to demo code" target="_top">DiagonalLayoutModule.properties</a> or 
               <a href="../../src/demo/option/OptionHandlerDemo.properties" title="Link to demo code" target="_top">OptionHandlerDemo.properties</a>. 
               
            </p>
         </div>
      </div>
      <table class="copyright" border="0" cellpadding="0" cellspacing="0" width="100%">
         <tbody>
            <tr>
               <td align="right">
                  <p class="copyright">Copyright &copy;2004-2015, yWorks GmbH. All rights reserved.</p>
               </td>
            </tr>
         </tbody>
      </table>
      <div class="navfooter">
         <div class="navline2"></div>
         <div style="display:none"><img src="figures/navline2.jpg" alt=""><img src="figures/navbg2.jpg" alt=""></div>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="options.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="options.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="option_advanced.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Chapter&nbsp;10.&nbsp;Settings Dialogs and Components&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html" target="_top">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;Advanced Topics</td>
            </tr>
         </table>
      </div>
   </body>
</html>