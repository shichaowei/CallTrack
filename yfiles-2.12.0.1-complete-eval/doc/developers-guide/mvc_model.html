<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>Graph Structure Enhancements</title>
      <link rel="stylesheet" href="ystyle.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.65.1">
      <link rel="home" href="index.html" title="yFiles for Java Developer's Guide">
      <link rel="up" href="view.html" title="Chapter&nbsp;6.&nbsp;Displaying and Editing Graphs">
      <link rel="previous" href="view.html" title="Chapter&nbsp;6.&nbsp;Displaying and Editing Graphs">
      <link rel="next" href="realizers.html" title="Bringing Graph Elements to Life: The Realizer Concept">
      <link rel="stylesheet" href="jsdt/toc.css" type="text/css"><script type="text/javascript" src="jsdt/jquery.min.js"></script><script type="text/javascript" src="jsdt/toc.js"></script><link type="text/css" rel="stylesheet" href="jssh/SyntaxHighlighter.css"><script type="text/javascript" src="jssh/shCore.js"></script><script type="text/javascript" src="jssh/shBrushJava.js"></script><script type="text/javascript" src="jssh/shBrushXml.js"></script><script type="text/javascript">
  function sh() {

    dp.SyntaxHighlighter.HighlightAll('programlisting', false, false, false, null, false);
  }
  </script></head>
   <body onload="sh()" bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">Graph Structure Enhancements</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="view.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Chapter&nbsp;6.&nbsp;Displaying and Editing Graphs</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="realizers.html">Next</a></td>
            </tr>
         </table>
         <div class="navline"></div>
         <div style="display:none"><img src="figures/navbg.jpg" alt=""><img src="figures/navline.jpg" alt=""></div>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="mvc_model"></a>Graph Structure Enhancements
                  </h2>
               </div>
            </div>
            <div></div>
         </div><a class="indexterm" name="d0e22623"></a><a class="indexterm" name="d0e22628"></a><a class="indexterm" name="d0e22633"></a><p>
            The graph implementation in package 
            <a href="../api/y/view/package-summary.html" title="Link to API documentation" target="_top">y.view<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> is provided 
            by class Graph2D. 
            It enhances the graph structure with support for the visual presentation of 
            graph elements inside graphical user interface (GUI) components. 
            
            
            Indispensible basis for nearly all visualization aspects is positional and 
            dimensional information which is added by the graph structure implementation 
            in package 
            <a href="../api/y/layout/package-summary.html" title="Link to API documentation" target="_top">y.layout<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>. 
            
         </p>
         <p>
            Abstract class <a href="../api/y/layout/LayoutGraph.html" title="Link to API documentation" target="_top">LayoutGraph<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> provides 
            positional and dimensional information for all graph elements. 
            In particular, this means width and height for a node and also coordinates for 
            its center and upper left corner. 
            
            For edges, more precisely edge paths, positional information means coordinates 
            for both starting point and end point, as well as the control points in-between 
            these two. 
            
            <a href="mvc_model.html#uml_graph_classes" title="Figure&nbsp;6.2.&nbsp;Hierarchy of graph structure implementations">Figure&nbsp;6.2, &#8220;Hierarchy of graph structure implementations&#8221;</a> depicts the hierarchy of the yFiles graph 
            structure classes. 
            
         </p>
         <div class="figure"><a name="uml_graph_classes"></a><p class="title"><b>Figure&nbsp;6.2.&nbsp;Hierarchy of graph structure implementations</b></p>
            <div class="informaltable">
               <center>
                  <table border="0">
                     <colgroup>
                        <col width="100%">
                     </colgroup>
                     <tbody>
                        <tr>
                           <td>
                              <div class="mediaobject" align="center"><img src="figures/graph_complex_max_4.jpg" align="middle" alt="Hierarchy of graph structure implementations."></div>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="cls_Graph2D"></a>Class Graph2D
                     </h3>
                  </div>
               </div>
               <div></div>
            </div><a class="indexterm" name="d0e22672"></a><p>
               Class <a href="../api/y/view/Graph2D.html" title="Link to API documentation" target="_top">Graph2D<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> is one of the main 
               contributors to the model part of the MVC pattern present in package y.view. 
               
               
               It offers a variety of methods to conveniently modify the state of single graph 
               elements or arbitrary collections thereof. 
               
            </p>
            <p>
               The other major contributors to the model part besides Graph2D, classes 
               <a href="../api/y/view/NodeRealizer.html" title="Link to API documentation" target="_top">NodeRealizer<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> and 
               <a href="../api/y/view/EdgeRealizer.html" title="Link to API documentation" target="_top">EdgeRealizer<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> hold and manage all 
               necessary graph element state information, and are therefore mandatory to 
               guarantee the proper working of the user experience/the visual aspects of the 
               graph structure. 
               
            </p>
            <p><a name="default_realizer_mechanism"></a>
               <a class="indexterm" name="d0e22689"></a>
               <a class="indexterm" name="d0e22697"></a>
               
               By means of Graph2D's "default realizer" mechanism, any created graph element 
               is automatically bound to a fresh instance of its respective realizer type. 
               
               The actual default node realizer and edge realizer classes that are used for 
               this mechanism can be set in advance. 
               
               
               Alternatively, realizers can also be associated explicitly with single graph 
               elements, thus resetting the automatic binding. 
               
               
               
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>
                  Initially, classes <a href="../api/y/view/ShapeNodeRealizer.html" title="Link to API documentation" target="_top">ShapeNodeRealizer<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> and 
                  <a href="../api/y/view/PolyLineEdgeRealizer.html" title="Link to API documentation" target="_top">PolyLineEdgeRealizer<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> are used as the default 
                  node respectively edge realizers for the "default realizer" mechanism of class 
                  Graph2D. 
                  
               </p>
            </div>
            <p>
               Node realizers and edge realizers are described in all detail in 
               <a href="realizers.html" title="Bringing Graph Elements to Life: The Realizer Concept">the section called &#8220;Bringing Graph Elements to Life: The Realizer Concept&#8221;</a>. 
               There, both alternatives for associating realizers to graph elements are described,
               and the following methods are also explained.
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/view/Graph2D.html#getDefaultEdgeRealizer()" title="Link to API documentation" target="_top">EdgeRealizer getDefaultEdgeRealizer()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#getDefaultNodeRealizer()" title="Link to API documentation" target="_top">NodeRealizer getDefaultNodeRealizer()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>

<a href="../api/y/view/Graph2D.html#setDefaultEdgeRealizer(y.view.EdgeRealizer)" title="Link to API documentation" target="_top">void setDefaultEdgeRealizer(EdgeRealizer er)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#setDefaultNodeRealizer(y.view.NodeRealizer)" title="Link to API documentation" target="_top">void setDefaultNodeRealizer(NodeRealizer nr)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Getter and setter methods for the default realizer mechanism.</td>
                        </tr>
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/view/Graph2D.html#getRealizer(y.base.Edge)" title="Link to API documentation" target="_top">EdgeRealizer getRealizer(Edge e)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#getRealizer(y.base.Node)" title="Link to API documentation" target="_top">NodeRealizer getRealizer(Node v)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>

<a href="../api/y/view/Graph2D.html#setRealizer(y.base.Edge, y.view.EdgeRealizer)" title="Link to API documentation" target="_top">void setRealizer(Edge e, EdgeRealizer er)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#setRealizer(y.base.Node, y.view.NodeRealizer)" title="Link to API documentation" target="_top">void setRealizer(Node v, NodeRealizer nr)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">Getter and setter methods for explicit realizers.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <p>
               To link the view part and the model, Graph2D naturally provides methods to 
               register view objects with it, and to manage all registered views. 
               The following list presents the methods from class Graph2D for view handling.
               
               Most prominently, method 
               <a href="../api/y/view/Graph2D.html#updateViews()" title="Link to API documentation" target="_top">updateViews()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> is used to inform 
               all registered views to update themselves, i.e., to repaint the representation 
               of the graph. 
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/view/Graph2D.html#getCurrentView()" title="Link to API documentation" target="_top">View getCurrentView()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#getViews()" title="Link to API documentation" target="_top">YCursor getViews()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#registerView(y.view.View)" title="Link to API documentation" target="_top">void registerView(View view)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#removeView(y.view.View)" title="Link to API documentation" target="_top">void removeView(View view)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
<a href="../api/y/view/Graph2D.html#setCurrentView(y.view.View)" title="Link to API documentation" target="_top">void setCurrentView(View view)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>

<a href="../api/y/view/Graph2D.html#updateViews()" title="Link to API documentation" target="_top">void updateViews()<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">View-related getter and setter methods from class Graph2D.</td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="view_advanced"></a>Advanced Topics
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               
            </p>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title"><a name="view_copying"></a>Copying a Graph2D
                        </h4>
                     </div>
                  </div>
                  <div></div>
               </div><a class="indexterm" name="d0e22800"></a><a class="indexterm" name="d0e22805"></a><a class="indexterm" name="d0e22810"></a><a class="indexterm" name="d0e22815"></a><p>
                  The generic mechanism for copying a graph structure as described in 
                  <a href="graph_structure.html#graph_copying" title="Copying a Graph">the section called &#8220;Copying a Graph&#8221;</a> can also be used to copy Graph2D objects. 
                  
                  Instead of a GraphCopyFactory instance, however, other copy factory 
                  implementations, which are capable of copying the node realizers and edge 
                  realizers associated with a Graph2D, need to be used.
                  
               </p>
               <p>
                  Classes <a href="../api/y/view/Graph2DCopyFactory.html" title="Link to API documentation" target="_top">Graph2DCopyFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> and <a href="../api/y/view/Graph2DCopyFactory.HierarchicGraph2DCopyFactory.html" title="Link to API documentation" target="_top">Graph2DCopyFactory.HierarchicGraph2DCopyFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> 
                  are predefined copy factories that handle realizers. 
                  The latter class is returned when calling the <tt class="code">getGraphCopyFactory</tt> method 
                  on a Graph2D. 
                  It is a hierarchy-aware graph copy factory that wraps a Graph2DCopyFactory instance 
                  and in addition to the services provided by its delegate also copies all group node-related 
                  hierarchy information of a Graph2D, i.e., which nodes are group nodes and also any 
                  parent-child relations.
                  
               </p>
               <p>
                  <a href="mvc_model.html#ex_GraphCopier_flat_Graph2D" title="Example&nbsp;6.1.&nbsp;Creating a GraphCopier for a &#34;flat&#34; Graph2D">Example&nbsp;6.1, &#8220;Creating a GraphCopier for a "flat" Graph2D&#8221;</a> shows how to create a GraphCopier 
                  that uses the graph copy factory for "flat" graphs instead of the default hierarchy-aware 
                  one. 
                  Graph2DCopyFactory simply ignores any hierarchy information of a Graph2D.
                  
               </p>
               <div class="example"><a name="ex_GraphCopier_flat_Graph2D"></a><p class="title"><b>Example&nbsp;6.1.&nbsp;Creating a GraphCopier for a "flat" Graph2D</b></p><pre class="programlisting java">
// 'graph' is of type y.view.Graph2D.

// Create a new GraphCopier that uses a graph copy factory for "flat" graphs.
GraphCopier gc = new GraphCopier(new Graph2DCopyFactory());
</pre></div>
               <p>
                  As an alternative to Graph2DCopyFactory.HierarchicGraph2DCopyFactory, class <a href="../api/y/view/Graph2DCopyFactory.RecursiveGraph2DCopyFactory.html" title="Link to API documentation" target="_top">Graph2DCopyFactory.RecursiveGraph2DCopyFactory<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> 
                  can be used to also recursively copy the contents of all folder nodes of a Graph2D 
                  together with their corresponding hierarchy information. 
                  <a href="mvc_model.html#ex_GraphCopier_recursively_Graph2D" title="Example&nbsp;6.2.&nbsp;Setting up recursive graph copy behavior to copy folder node contents also">Example&nbsp;6.2, &#8220;Setting up recursive graph copy behavior to copy folder node contents also&#8221;</a> shows how to set up recursive 
                  graph copying behavior.
                  
               </p>
               <div class="example"><a name="ex_GraphCopier_recursively_Graph2D"></a><p class="title"><b>Example&nbsp;6.2.&nbsp;Setting up recursive graph copy behavior to copy folder node contents also</b></p><pre class="programlisting java">
// 'graph', 'targetGraph' are of type y.view.Graph2D.

// First, get the graph's original copy factory implementation.
GraphCopier.CopyFactory factory = graph.getCopyFactory();

// The recursive copy factory will use it as a delegate.
Graph2DCopyFactory.RecursiveGraph2DCopyFactory recursiveFactory =
  new Graph2DCopyFactory.RecursiveGraph2DCopyFactory(factory);

// Convenience method to recursively copy the graph to another graph.
recursiveFactory.copyRecursively(graph, targetGraph);
</pre></div>
            </div>
         </div>
      </div>
      <table class="copyright" border="0" cellpadding="0" cellspacing="0" width="100%">
         <tbody>
            <tr>
               <td align="right">
                  <p class="copyright">Copyright &copy;2004-2015, yWorks GmbH. All rights reserved.</p>
               </td>
            </tr>
         </tbody>
      </table>
      <div class="navfooter">
         <div class="navline2"></div>
         <div style="display:none"><img src="figures/navline2.jpg" alt=""><img src="figures/navbg2.jpg" alt=""></div>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="view.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="view.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="realizers.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Chapter&nbsp;6.&nbsp;Displaying and Editing Graphs&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html" target="_top">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;Bringing Graph Elements to Life: The Realizer Concept</td>
            </tr>
         </table>
      </div>
   </body>
</html>