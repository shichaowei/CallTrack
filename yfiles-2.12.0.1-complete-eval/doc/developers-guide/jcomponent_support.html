<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>Swing User Interface Components as Node Realizers</title>
      <link rel="stylesheet" href="ystyle.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.65.1">
      <link rel="home" href="index.html" title="yFiles for Java Developer's Guide">
      <link rel="up" href="view.html" title="Chapter&nbsp;6.&nbsp;Displaying and Editing Graphs">
      <link rel="previous" href="custom_realizers.html" title="Writing Customized Realizers">
      <link rel="next" href="mvc_view.html" title="View Implementations">
      <link rel="stylesheet" href="jsdt/toc.css" type="text/css"><script type="text/javascript" src="jsdt/jquery.min.js"></script><script type="text/javascript" src="jsdt/toc.js"></script><link type="text/css" rel="stylesheet" href="jssh/SyntaxHighlighter.css"><script type="text/javascript" src="jssh/shCore.js"></script><script type="text/javascript" src="jssh/shBrushJava.js"></script><script type="text/javascript" src="jssh/shBrushXml.js"></script><script type="text/javascript">
  function sh() {

    dp.SyntaxHighlighter.HighlightAll('programlisting', false, false, false, null, false);
  }
  </script></head>
   <body onload="sh()" bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">Swing User Interface Components as Node Realizers</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="custom_realizers.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Chapter&nbsp;6.&nbsp;Displaying and Editing Graphs</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="mvc_view.html">Next</a></td>
            </tr>
         </table>
         <div class="navline"></div>
         <div style="display:none"><img src="figures/navbg.jpg" alt=""><img src="figures/navline.jpg" alt=""></div>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="jcomponent_support"></a>Swing User Interface Components as Node Realizers
                  </h2>
               </div>
            </div>
            <div></div>
         </div><a class="indexterm" name="d0e26958"></a><a class="indexterm" name="d0e26963"></a><p>
            
            
            The yFiles library enables the use of Java Swing User Interface (UI) components 
            to render nodes and to create proper editors for node-related data which are 
            presented as "live" objects within a Graph2DView. 
            
            Similar to the concept and use of Java Swing interfaces 
            
         </p>
         <div class="itemizedlist">
            <ul type="disc">
               <li><tt class="classname">TableCellRenderer</tt> and 
                  <tt class="classname">TableCellEditor</tt> or 
                  
               </li>
               <li><tt class="classname">TreeCellRenderer</tt> and 
                  <tt class="classname">TreeCellEditor</tt></li>
            </ul>
         </div>
         <p>
            both visual representation of nodes and editing of related data can be 
            accomplished by means of implementations for interfaces 
            <a href="../api/y/view/NodeCellRenderer.html" title="Link to API documentation" target="_top">NodeCellRenderer<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> and
            <a href="../api/y/view/NodeCellEditor.html" title="Link to API documentation" target="_top">NodeCellEditor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>, respectively. 
            
            
            
            Each interface provides a callback method to return a 
            <tt class="classname">JComponent</tt> which presents Swing look and feel. 
            
            
            <a href="jcomponent_support.html#fig_jcomponent_view" title="Figure&nbsp;6.37.&nbsp;JComponents in the view">Figure&nbsp;6.37, &#8220;JComponents in the view&#8221;</a> shows different JComponents within a view 
            at zoom level 100%. 
            
         </p>
         <div class="figure"><a name="fig_jcomponent_view"></a><p class="title"><b>Figure&nbsp;6.37.&nbsp;JComponents in the view</b></p>
            <div class="informaltable">
               <center>
                  <table border="0">
                     <colgroup>
                        <col width="100%">
                     </colgroup>
                     <tbody>
                        <tr>
                           <td>
                              <div class="mediaobject" align="center"><img src="figures/swing_fit.jpg" align="middle" alt="JComponents in the view."></div>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="jcomponent_rendering"></a>Rendering
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               Using Swing UI components for the visual representation of a node can be 
               accomplished by providing an implementation for interface 
               <a href="../api/y/view/NodeCellRenderer.html" title="Link to API documentation" target="_top">NodeCellRenderer<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>. 
               
               This interface behaves similar to Java Swing interfaces such as 
               TableCellRenderer or TreeCellRenderer, and serves as a callback for the logic 
               that is responsible for painting the node realizer. 
               Following is the callback method defined by interface NodeCellRenderer:
               
            </p>
            <div class="techn_templ">
               <center>
                  <table width="100%" border="1">
                     <colgroup>
                        <col width="16%" align="left">
                        <col width="84%" align="left">
                     </colgroup>
                     <tbody valign="top">
                        <tr class="techn_api">
                           <td colspan="2" align="left"><pre class="programlisting ignore"><a href="../api/y/view/NodeCellRenderer.html#getNodeCellRendererComponent(y.view.Graph2DView, y.view.NodeRealizer, java.lang.Object, boolean)" title="Link to API documentation" target="_top">JComponent getNodeCellRendererComponent(Graph2DView view, NodeRealizer context,
                                        Object value, boolean isSelected)<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>
</pre></td>
                        </tr>
                        <tr class="spacing">
                           <td align="left">Description</td>
                           <td align="left">
                              Parameter 'value' holds the value of the cell to be rendered, i.e., the actual node-related
                              data that is presented in the JComponent.
                              
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </center>
            </div>
            <p>
               Class <a href="../api/y/view/NodeCellRendererPainter.html" title="Link to API documentation" target="_top">NodeCellRendererPainter<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> provides 
               support for rendering Swing UI components with GenericNodeRealizer. 
               It is an implementation for interface GenericNodeRealizer.Painter which is 
               responsible for painting 
               <a href="realizers.html#cls_GenericNodeRealizer" title="Class GenericNodeRealizer">generic node realizers</a>. 
               
               A NodeCellRendererPainter instance can be instantiated using a NodeCellRenderer 
               implementation and be added to a GenericNodeRealizer configuration. 
               The given NodeCellRenderer implementation is then invoked to return the 
               JComponent that serves as the visual representation for a node. 
               
            </p>
            <p>
               Defining a GenericNodeRealizer configuration that uses NodeCellRendererPainter 
               is outlined in <a href="jcomponent_support.html#ex_jcomponent_rendering" title="Example&nbsp;6.29.&nbsp;Defining a GenericNodeRealizer configuration that supports rendering of UI components">Example&nbsp;6.29, &#8220;Defining a GenericNodeRealizer configuration that supports rendering of UI components&#8221;</a>. 
               Tutorial demo application 
               <a href="../../src/demo/view/realizer/SwingRendererDemo.java" title="Link to demo code" target="_top">SwingRendererDemo.java</a> shows how to 
               define a corresponding NodeCellRenderer that returns a JComponent. 
               
            </p>
            <div class="example"><a name="ex_jcomponent_rendering"></a><p class="title"><b>Example&nbsp;6.29.&nbsp;Defining a GenericNodeRealizer configuration that supports rendering of UI components</b></p><pre class="programlisting java">
void createJTextFieldNodeRealizer()
{
  // Create a customized NodeCellRenderer instance that defines the visual 
  // representation of a node. 
  NodeCellRenderer myNCR = new MyJTextFieldNodeCellRenderer();
  
  // Define a GenericNodeRealizer configuration that uses 'myNCR' as a callback 
  // for class NodeCellRendererPainter. 
  // This class provides support for rendering Swing UI components. 
  GenericNodeRealizer.Factory factory = GenericNodeRealizer.getFactory();
  Map map = factory.createDefaultConfigurationMap();
  map.put(
    GenericNodeRealizer.Painter.class, 
    new NodeCellRendererPainter(myNCR, NodeCellRendererPainter.USER_DATA_MAP));
  map.put(
    GenericNodeRealizer.UserDataHandler.class, 
    new SimpleUserDataHandler(SimpleUserDataHandler.REFERENCE_ON_FAILURE));
  
  // Register the configuration using the given name. 
  factory.addConfiguration("JTextField", map);
}
</pre></div>
            <p>
               
               
               
               
               
               The UI components rendered in the view provide the full range of mouse-based 
               user interaction that is also supported for "ordinary" nodes, i.e., they can be 
               selected, moved around, or scaled using their resize knobs, for example. 
               
               They are also subject to changes of the viewport such as zooming in or out.
               
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="jcomponent_editor"></a>Editor Functionality
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               In addition to using Swing UI components for the visual representation of 
               nodes by means of a NodeCellRenderer implementation (as 
               <a href="jcomponent_support.html#jcomponent_rendering" title="Rendering">shown above</a>), the components can 
               also be used as proper editors. 
               
               
               As a special feature, these Swing-based editors remain editable even when 
               zoomed. 
               <a href="jcomponent_support.html#fig_jcomponent_editing" title="Figure&nbsp;6.38.&nbsp;Editing a zoomed JComponent">Figure&nbsp;6.38, &#8220;Editing a zoomed JComponent&#8221;</a> shows a zoomed-in 
               <tt class="classname">JTextField</tt> before and after editing its value. 
               
            </p>
            <div class="figure"><a name="fig_jcomponent_editing"></a><p class="title"><b>Figure&nbsp;6.38.&nbsp;Editing a zoomed JComponent</b></p>
               <div class="informaltable">
                  <center>
                     <table border="0">
                        <colgroup>
                           <col width="50%">
                           <col width="50%">
                        </colgroup>
                        <tbody valign="bottom">
                           <tr>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/swing_watch.jpg" align="middle" alt="Editing a zoomed JComponent."></div>
                              </td>
                              <td>
                                 <div class="mediaobject" align="center"><img src="figures/swing_catch.jpg" align="middle" alt="Editing a zoomed JComponent."></div>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </center>
               </div>
            </div>
            <p>
               
               Enhancing a node realizer that renders a JComponent with editor functionality 
               can be accomplished by providing an implementation for interface 
               <a href="../api/y/view/NodeCellEditor.html" title="Link to API documentation" target="_top">NodeCellEditor<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a>. 
               
               The section 
               <a href="mvc_controller.html#node_cell_editors" title="Node-Related Editing Capabilities">Node-Related Editing Capabilities</a> 
               describes this interface and its role for user interaction with UI components. 
               
            </p>
            <p>
               
               
               
               
               Class <a href="../api/y/view/CellEditorMode.html" title="Link to API documentation" target="_top">CellEditorMode<sup xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format"><img src="figures/icon_api.gif" align="bottom" border="0"></img></sup></a> is the view mode 
               that knows all nodes that have a Swing-based editor associated. 
               It recognizes whenever a user attempts to use such an editor and initiates node 
               editing. 
               
               
               See <a href="mvc_controller.html#cls_CellEditorMode" title="Class CellEditorMode">the section called &#8220;Class CellEditorMode&#8221;</a> for a detailed description of this 
               view mode. 
               
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title"><a name="jcomponent_tutorial"></a>Tutorial Demo Code
                     </h3>
                  </div>
               </div>
               <div></div>
            </div>
            <p>
               The tutorial demo application 
               <a href="../../src/demo/view/realizer/SwingRendererDemo.java" title="Link to demo code" target="_top">SwingRendererDemo.java</a> shows how Java 
               Swing UI components can be used for both rendering the visual representation of 
               nodes and additionally providing editors for node-related data. 
               
            </p>
         </div>
      </div>
      <table class="copyright" border="0" cellpadding="0" cellspacing="0" width="100%">
         <tbody>
            <tr>
               <td align="right">
                  <p class="copyright">Copyright &copy;2004-2015, yWorks GmbH. All rights reserved.</p>
               </td>
            </tr>
         </tbody>
      </table>
      <div class="navfooter">
         <div class="navline2"></div>
         <div style="display:none"><img src="figures/navline2.jpg" alt=""><img src="figures/navbg2.jpg" alt=""></div>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="custom_realizers.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="view.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="mvc_view.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Writing Customized Realizers&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html" target="_top">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;View Implementations</td>
            </tr>
         </table>
      </div>
   </body>
</html>